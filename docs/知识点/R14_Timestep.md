# **运动与帧的绑定**

- 帧率 (FPS)
  - 帧率是指图形处理器 (GPU) 每秒渲染的帧数。较高的帧率会带来更流畅的视觉体验。
  - 然而，帧率可能会因设备性能、游戏复杂度等因素而波动。

## **基于帧的运动**

- 概念
  - 基于帧的运动是指游戏中的物体移动速度与帧率直接相关。
  - 这意味着，物体在每一帧中移动的距离是固定的。
- 问题
  - 由于帧率波动，物体在不同设备或不同帧率下的移动速度会不一致。
  - 例如，在高帧率下，物体移动速度会更快；在低帧率下，物体移动速度会更慢。
  - 这会导致游戏体验的不稳定性。
- 举例
  - 假设一个物体每帧移动 10 个单位。
  - 在 60 FPS 下，该物体每秒移动 600 个单位。
  - 在 30 FPS 下，该物体每秒仅移动 300 个单位。

## **基于时间的运动**

- 概念
  - 基于时间的运动是指游戏中的物体移动速度与时间相关，而与帧率无关。
  - 这意味着，物体在单位时间内移动的距离是固定的。
- 优势
  - 无论帧率如何波动，物体移动速度都能保持一致。
  - 这确保了游戏体验的稳定性。
- 实现
  - 通过测量每一帧之间的时间差 (deltaTime)。
  - 将物体的移动速度乘以 deltaTime，即可得到物体在当前帧中应该移动的距离。
- 举例
  - 假设一个物体每秒移动 100 个单位。
  - 在 60 FPS 下，deltaTime 大约为 0.016 秒，物体每帧移动 1.6 个单位。
  - 在 30 FPS 下，deltaTime 大约为 0.033 秒，物体每帧移动 3.3 个单位。
  - 无论帧率如何，该物体每秒都移动 100 个单位。

### **核心概念时间差 (deltaTime)**

- 定义
  - 时间差（deltaTime）是指上一帧渲染完成到当前帧开始渲染之间所经过的时间。
  - 换句话说，它表示每一帧所花费的实际时间。
- 重要性
  - 时间差是实现基于时间的运动的关键。
  - 通过使用时间差，我们可以将物体的运动与实际时间联系起来，而不是与帧率联系起来。

### **工作原理运动速度与时间差**

- 计算公式
  - 物体在当前帧中的移动距离 = 物体速度 × 时间差
- 原理分析
  - 物体的速度通常以“单位/秒”为单位。
  - 时间差表示“秒”的一部分。
  - 将速度乘以时间差，即可得到物体在当前帧中应该移动的实际距离。
- 稳定性保障
  - 无论帧率如何变化，物体在单位时间内移动的距离都是恒定的。
  - 例如，如果一个物体以 100 单位/秒的速度移动，那么它在 1 秒内始终会移动 100 单位。
  - 在高帧率下，时间差较小，物体每帧移动的距离也较小。
  - 在低帧率下，时间差较大，物体每帧移动的距离也较大。
  - 通过这种方式，基于时间的运动可以自动补偿帧率波动，确保物体运动的平滑和稳定。

### **举例说明**

- 场景
  - 一个物体需要以 100 单位/秒的速度向右移动。
- 高帧率 (60 FPS)
  - 时间差约为 0.016 秒。
  - 物体每帧移动距离100 单位/秒 × 0.016 秒 ≈ 1.6 单位。
- 低帧率 (30 FPS)
  - 时间差约为 0.033 秒。
  - 物体每帧移动距离100 单位/秒 × 0.033 秒 ≈ 3.3 单位。
- 结果
  - 无论帧率如何，物体在 1 秒内都将移动 100 单位。
